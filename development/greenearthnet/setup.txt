1. download the NRCan root certificate as a crt file 

2. run the following command in an anaconda terminal:
conda config --set ssl_verify path/to/ca-bundle.crt

3. set up the environment:

cpu only install (main branch):
conda create -n greenearthnet python=3.10
conda activate greenearthnet
conda install pytorch==1.13.1 torchvision==0.14.1 torchaudio==0.13.1 cpuonly -c pytorch
conda install -c conda-forge u8darts-notorch
conda install -c conda-forge numpy=1.26.4 matplotlib pillow xarray zarr netcdf4 scipy imageio networkx scikit-image s3fs pyproj pyarrow seaborn cartopy tensorboard dask statsmodels
pip install earthnet earthnet-minicuber segmentation-models-pytorch albumentations
python.exe -m pip install pip==24.0 
pip install pytorch-lightning==1.7.7 torchmetrics==0.7.3 
pip install git+https://github.com/earthnet2021/earthnet-models-pytorch.git@v0.1.0
python.exe -m pip install --upgrade pip
pip install pip-system-certs
pip uninstall numpy
conda install numpy=1.26.4 --force-reinstall
pip install --force-reinstall pillow==9.5.0 (for running train.py)

cpu only install ('upgrade_lightning' branch):
conda create -n greenearthnet -c conda-forge python 
conda activate greenearthnet
pip install torch torchvision --index-url https://download.pytorch.org/whl/cu126
pip install numpy matplotlib pillow xarray zarr netcdf4 scipy imageio networkx scikit-image s3fs pyproj pyarrow seaborn cartopy tensorboard dask pytorch-lightning torchmetrics statsmodels earthnet earthnet-minicuber segmentation-models-pytorch albumentations ipykernel pip-system-certs
pip install git+https://github.com/earthnet2021/earthnet-models-pytorch.git [@v0.1.1]

cuda (gpu enabled) install:
conda create -n greenearthnet python=3.10
conda activate greenearthnet
conda install pytorch==1.13.1 torchvision==0.14.1 torchaudio==0.13.1 pytorch-cuda=11.6 -c pytorch -c nvidia
conda install -c conda-forge u8darts-notorch
conda install -c conda-forge numpy=1.26.4 matplotlib pillow xarray zarr netcdf4 scipy imageio networkx scikit-image s3fs pyproj pyarrow seaborn cartopy tensorboard dask statsmodels
pip install earthnet earthnet-minicuber segmentation-models-pytorch albumentations
python.exe -m pip install pip==24.0 
pip install pytorch-lightning==1.7.7 torchmetrics==0.7.3 
pip install git+https://github.com/earthnet2021/earthnet-models-pytorch.git@v0.1.0
python.exe -m pip install --upgrade pip
pip install pip-system-certs
pip uninstall numpy
conda install numpy=1.26.4 --force-reinstall
pip install --force-reinstall pillow==9.5.0 (for running train.py)


4. download the greenaerthnet dataset, it will require around 143GB:
python
import earthnet as entk
entk.download(dataset = "greenearthnet", split = "all", save_directory = "data_dir")
quit()

5. to run the model (test.py) it may be necessary to add <del setting_dict["Trainer"]["strategy"]> to line 121 in test.py (inside the <if "gpus" in setting_dict["Trainer"]>) if cpu only or using just a single gpu 
still need to test the script with multiple gpus (with the ddp strategy)